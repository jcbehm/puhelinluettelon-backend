{"version":3,"sources":["services/persons.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","PersonForm","props","onSubmit","event","preventDefault","personObject","name","newName","number","newNumber","replacable","includes","persons","forEach","person","window","confirm","personService","returnedPerson","setPersons","map","catch","error","setMessage","setTimeout","console","log","filter","n","createdPerson","concat","message","setNewName","setNewNumber","value","onChange","target","type","Person","className","onClick","copy","splice","indexOf","Persons","personsToShow","Notification","split","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","showingFilter","setShowingFilter","showAll","setShowAll","useEffect","initialPersons","toLowerCase","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ab6ebeb0.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst erase = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, erase }","import React from 'react'\r\nimport personService from '../services/persons'\r\n\r\nconst PersonForm = (props) => {\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const personObject = {\r\n      name: props.newName,\r\n      number: props.newNumber\r\n    }\r\n\r\n    let replacable = {}\r\n    let includes = false\r\n    props.persons.forEach(person => {\r\n      if (person.name === props.newName) {\r\n        includes = true\r\n        replacable = person\r\n      }\r\n    })\r\n\r\n    if (includes) {\r\n      if (window.confirm(\r\n        `${props.newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n\r\n        personService\r\n          .update(replacable.id, personObject)\r\n          .then(returnedPerson => {\r\n            props.setPersons(props.persons.map(person => person.name !== personObject.name ? person : returnedPerson))\r\n          })\r\n          .catch(error => {\r\n            props.setMessage(\r\n              `Information of ${personObject.name} has already been removed from server`\r\n            )\r\n            setTimeout(() => {\r\n              props.setMessage(null)\r\n            }, 5000)\r\n            console.log(error)\r\n            props.setPersons(props.persons.filter(n => n.id !== replacable.id))\r\n          })\r\n\r\n        props.setMessage(\r\n          `Updated ${personObject.name}`\r\n        )\r\n        setTimeout(() => {\r\n          props.setMessage(null)\r\n        }, 5000)\r\n      }\r\n\r\n    } else {\r\n      personService\r\n        .create(personObject)\r\n        .then(createdPerson => {\r\n          props.setPersons(props.persons.concat(createdPerson))\r\n          props.setMessage(\r\n            `Added ${personObject.name}`\r\n          )\r\n          setTimeout(() => {\r\n            props.setMessage(null)\r\n          }, 5000)\r\n        })\r\n        .catch(error => {\r\n          props.setMessage(\r\n            `Error: ${error.message}`\r\n          )\r\n          setTimeout(() => {\r\n            props.setMessage(null)\r\n          }, 5000)\r\n        })\r\n    }\r\n\r\n    props.setNewName('')\r\n    props.setNewNumber('')\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    props.setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    props.setNewNumber(event.target.value)\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={addPerson}>\r\n      <div>\r\n        name:\r\n            <input\r\n          value={props.newName}\r\n          onChange={handleNameChange}\r\n        />\r\n      </div>\r\n      <div>\r\n        number:\r\n              <input\r\n          value={props.newNumber}\r\n          onChange={handleNumberChange}\r\n        />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\nimport personService from '../services/persons'\r\n\r\nconst Person = ({ person, persons, setPersons, setMessage }) => {\r\n\r\n  const deletePerson = () => {\r\n\r\n    if (window.confirm(`Delete ${person.name} ?`)) {\r\n      const copy = [...persons]\r\n      copy.splice(persons.indexOf(person), 1)\r\n      personService.erase(person.id)\r\n      setPersons(copy)\r\n      setMessage(\r\n        `Deleted ${person.name}`\r\n      )\r\n      setTimeout(() => {\r\n        setMessage(null)\r\n      }, 5000)\r\n    }\r\n\r\n    return (\r\n      <>\r\n      </>\r\n    )\r\n\r\n  }\r\n  return (\r\n    <p className='person'>\r\n      {person.name} {person.number} <button onClick={deletePerson}>delete</button>\r\n    </p>\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\n\r\n\r\nconst Persons = ({personsToShow, persons, setPersons, setMessage}) => {\r\n\r\n    return (\r\n        <>\r\n            {personsToShow.map((person) =>\r\n                <div key={person.name}>\r\n                    <Person\r\n                    key={person.name}\r\n                    person={person}\r\n                    persons={persons}\r\n                    setPersons={setPersons}\r\n                    setMessage={setMessage} />\r\n                </div>\r\n            )}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    const notificationStyle = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n    const errorStyle = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    if (message.split(\" \")[0] === ('Information' || 'Error:')) {\r\n        return (\r\n            <div style={errorStyle}>\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div style={notificationStyle}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [showingFilter, setShowingFilter] = useState('')\r\n  const [showAll, setShowAll] = useState(true)\r\n  const [message, setMessage] = useState(null)\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }, [])\r\n\r\n  const handleFilterChange = (event) => {\r\n    setShowingFilter(event.target.value)\r\n    if (event.target.value === '') {\r\n      setShowAll(true)\r\n    } else {\r\n      setShowAll(false)\r\n    }\r\n  }\r\n\r\n  const personsToShow = showAll\r\n    ? persons\r\n    : persons.filter(person => person.name.toLowerCase().includes(showingFilter.toLowerCase()))\r\n\r\n  // \r\n\r\n  return (\r\n    <>\r\n      <h2>Phonebook</h2>\r\n\r\n      <Notification message={message} />\r\n\r\n      filter shown with\r\n      <input\r\n        value={showingFilter}\r\n        onChange={handleFilterChange}\r\n      />\r\n      <h2>add a new</h2>\r\n      <PersonForm\r\n        persons={persons}\r\n        setPersons={setPersons}\r\n        newName={newName}\r\n        setNewName={setNewName}\r\n        newNumber={newNumber}\r\n        setNewNumber={setNewNumber}\r\n        setMessage={setMessage}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Persons\r\n        personsToShow={personsToShow}\r\n        persons={persons}\r\n        setPersons={setPersons}\r\n        setMessage={setMessage}\r\n      />\r\n\r\n    </>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}